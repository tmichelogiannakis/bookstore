(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{lXdu:function(t,e,n){"use strict";n.r(e),n.d(e,"BooksModule",(function(){return At}));var i=n("tyNb"),o=n("PCNd"),b=n("fXoL");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Fb({type:t,selectors:[["app-books"]],decls:1,vars:0,template:function(t,e){1&t&&b.Mb(0,"router-outlet")},directives:[i.h],styles:[""]}),t})();var c=n("tk/3");let l=(()=>{class t{constructor(t){this.http=t,this.endpoints={books:"/books",booksGenres:"/book-genres"}}getAllBooks(){return this.http.get(this.endpoints.books)}createBook(t){return this.http.post(this.endpoints.books,t)}getBook(t){return this.http.get(`${this.endpoints.books}/${t}`)}getAllBookGenres(){return this.http.get(this.endpoints.booksGenres)}}return t.\u0275fac=function(e){return new(e||t)(b.Vb(c.b))},t.\u0275prov=b.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),a=(()=>{class t{constructor(t){this.bookService=t}resolve(t,e){return this.bookService.getAllBookGenres()}}return t.\u0275fac=function(e){return new(e||t)(b.Vb(l))},t.\u0275prov=b.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s=(()=>{class t{constructor(t){this.bookService=t}resolve(t,e){return this.bookService.getAllBooks()}}return t.\u0275fac=function(e){return new(e||t)(b.Vb(l))},t.\u0275prov=b.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u=(()=>{class t{constructor(t){this.bookService=t}resolve(t,e){const{isbn:n}=t.params;return this.bookService.getBook(n)}}return t.\u0275fac=function(e){return new(e||t)(b.Vb(l))},t.\u0275prov=b.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("lJxs"),p=n("jIHw"),f=n("ofXK"),h=n("8CEF"),g=n("7zfz"),m=n("7kUa");const v=t=>null==t||0===t.length;let y=(()=>{class t{transform(t,e,...n){return v(t)?null:Array.isArray(t)?t.join(e):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=b.Kb({name:"array",type:t,pure:!0}),t})();const R=["dv"],Q=function(t){return[t,"view"]};function k(t,e){if(1&t&&(b.Rb(0,"article",13),b.Rb(1,"div",8),b.Rb(2,"div",2),b.Mb(3,"img",14),b.Qb(),b.Rb(4,"div",1),b.Rb(5,"div",15),b.Rb(6,"div"),b.Rb(7,"h4",16),b.yc(8),b.Qb(),b.Rb(9,"p",17),b.yc(10),b.bc(11,"array"),b.Qb(),b.Qb(),b.Rb(12,"div",18),b.Rb(13,"div",19),b.Mb(14,"a",20),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&t){const t=e.$implicit;b.zb(3),b.hc("alt",t.title),b.zb(5),b.zc(t.title),b.zb(2),b.Ac("by ",b.dc(11,5,t.author,", "),""),b.zb(4),b.hc("routerLink",b.jc(8,Q,t.isbn))("label","DETAILS")}}function w(t,e){if(1&t&&(b.Rb(0,"div",21),b.Rb(1,"article",22),b.Rb(2,"div",23),b.Mb(3,"img",14),b.Qb(),b.Rb(4,"div",1),b.Rb(5,"div",15),b.Rb(6,"div"),b.Rb(7,"h4",16),b.yc(8),b.Qb(),b.Rb(9,"p",17),b.yc(10),b.bc(11,"array"),b.Qb(),b.Qb(),b.Rb(12,"div",18),b.Rb(13,"div",19),b.Mb(14,"a",24),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&t){const t=e.$implicit;b.zb(3),b.hc("alt",t.title),b.zb(5),b.zc(t.title),b.zb(2),b.Ac("by ",b.dc(11,5,t.author,", "),""),b.zb(4),b.hc("routerLink",b.jc(8,Q,t.isbn))("label","DETAILS")}}function I(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div",5),b.Rb(1,"p-dataView",6,7),b.Rb(3,"p-header"),b.Rb(4,"div",8),b.Rb(5,"div",9),b.Mb(6,"p-dataViewLayoutOptions"),b.Qb(),b.Rb(7,"div",1),b.Rb(8,"div",0),b.Rb(9,"div",2),b.yc(10," Search "),b.Qb(),b.Rb(11,"div",1),b.Rb(12,"input",10),b.Yb("input",(function(e){return b.qc(t),b.ac().filterBooksFn(e)})),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.wc(13,k,15,10,"ng-template",11),b.wc(14,w,15,10,"ng-template",12),b.Qb(),b.Qb()}if(2&t){const t=e.ngIf;b.zb(1),b.hc("value",t)("layout","grid")("filterBy","title,author")}}const z=function(){return["add"]};let O=(()=>{class t{constructor(t){this.route=t}ngOnInit(){this.books$=this.route.data.pipe(Object(d.a)(t=>t.books))}booksTrackByFn(t,e){return e.isbn}filterBooksFn(t){this.dv.filter(t.target.value,"contains")}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(i.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-book-list"]],viewQuery:function(t,e){var n;1&t&&b.Cc(R,!0),2&t&&b.oc(n=b.Zb())&&(e.dv=n.first)},decls:10,vars:6,consts:[[1,"p-grid","p-align-center"],[1,"p-col"],[1,"p-col-fixed"],["pButton","","label","Add Book",1,"ui-button-flat","ui-button-primary",3,"icon","routerLink"],["class","p-mb-3",4,"ngIf"],[1,"p-mb-3"],[3,"value","layout","filterBy"],["dv",""],[1,"p-grid"],[1,"p-col-auto"],["type","search","pInputText","",3,"input"],["pTemplate","listItem"],["pTemplate","gridItem"],[1,"p-col-12"],["src","./assets/images/missing-image.jpg",3,"alt"],[1,"tile-book-content"],[1,"tile-book-title"],[1,"tile-book-author"],[1,"p-grid","p-nogutter","p-justify-end"],[1,"p-pr-2"],["pButton","",3,"routerLink","label"],[1,"p-col-12","p-sm-6","p-md-4","p-p-1"],[1,"p-grid","p-nogutter","tile-book"],[1,"p-col-fixed","tile-book-image"],["pButton","",1,"ui-button-sm",3,"routerLink","label"]],template:function(t,e){1&t&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"h1"),b.yc(3,"Search to find your new book"),b.Qb(),b.Qb(),b.Rb(4,"div",2),b.Mb(5,"a",3),b.Qb(),b.Qb(),b.Rb(6,"p"),b.yc(7,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"),b.Qb(),b.wc(8,I,15,3,"div",4),b.bc(9,"async")),2&t&&(b.zb(5),b.hc("icon","pi pi-plus")("routerLink",b.ic(5,z)),b.zb(3),b.hc("ngIf",b.cc(9,3,e.books$)))},directives:[i.f,p.a,f.k,h.a,g.c,h.b,m.a,g.d],pipes:[f.b,y],styles:[".tile-book[_ngcontent-%COMP%]{padding:.5rem;border:1px solid rgba(0,0,0,.125);border-radius:.1875rem}.tile-book-image[_ngcontent-%COMP%]{line-height:0}.tile-book-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:7.5rem}.tile-book-content[_ngcontent-%COMP%]{padding-left:.5rem;height:100%;display:flex;flex-direction:column;justify-content:space-between}.tile-book-title[_ngcontent-%COMP%]{font-size:1rem;margin-top:0;margin-bottom:.5rem}.tile-book-author[_ngcontent-%COMP%]{font-size:.875rem;margin:0}"]}),t})();var x=n("3Pt+"),P=n("XNiG"),A=n("pLZG"),L=n("1G5W");class M{static range(t,e){return n=>{if(v(n.value)||v(t)||v(e))return null;const i=parseFloat(n.value);return!isNaN(i)&&(i<t||i>e)?{range:{min:t,max:e,actual:n.value}}:null}}}var B=n("lVkt"),j=n("zFJ7"),C=n("RGqm"),S=n("Nf9I");function T(t,e){1&t&&(b.Pb(0),b.yc(1," Fill out the title "),b.Ob())}function q(t,e){if(1&t&&(b.Pb(0),b.yc(1),b.Ob()),2&t){const t=b.ac().ngIf;b.zb(1),b.Ac(" The title is too long (max ",null==t||null==t.maxlength?null:t.maxlength.requiredLength," characters allowed). ")}}function N(t,e){1&t&&(b.Pb(0),b.yc(1,' Only letter, numbers and @"#&*! are allowed '),b.Ob())}function F(t,e){if(1&t&&(b.Pb(0),b.Rb(1,"small",37),b.wc(2,T,2,0,"ng-container",10),b.wc(3,q,2,1,"ng-container",10),b.wc(4,N,2,0,"ng-container",10),b.Qb(),b.Ob()),2&t){const t=e.ngIf;b.zb(2),b.hc("ngIf",null==t?null:t.required),b.zb(1),b.hc("ngIf",null==t?null:t.maxlength),b.zb(1),b.hc("ngIf",null==t?null:t.pattern)}}function G(t,e){if(1&t&&(b.Pb(0),b.wc(1,F,5,3,"ng-container",10),b.Ob()),2&t){const t=b.ac();b.zb(1),b.hc("ngIf",t.form.controls.title.errors)}}function D(t,e){if(1&t&&(b.Pb(0),b.yc(1),b.Ob()),2&t){const t=b.ac().ngIf;b.zb(1),b.Ac(" The subtitle is too long (max ",null==t||null==t.maxlength?null:t.maxlength.requiredLength," characters allowed). ")}}function $(t,e){1&t&&(b.Pb(0),b.yc(1,' Only letter, numbers and @"#&*! are allowed '),b.Ob())}function V(t,e){if(1&t&&(b.Pb(0),b.Rb(1,"small",38),b.wc(2,D,2,1,"ng-container",10),b.wc(3,$,2,0,"ng-container",10),b.Qb(),b.Ob()),2&t){const t=e.ngIf;b.zb(2),b.hc("ngIf",null==t?null:t.maxlength),b.zb(1),b.hc("ngIf",null==t?null:t.pattern)}}function Y(t,e){if(1&t&&(b.Pb(0),b.wc(1,V,4,2,"ng-container",10),b.Ob()),2&t){const t=b.ac();b.zb(1),b.hc("ngIf",t.form.controls.subtitle.errors)}}function _(t,e){1&t&&(b.Pb(0),b.Rb(1,"small",39),b.yc(2," ISBN is a 13-digit long numeric code "),b.Qb(),b.Ob())}function H(t,e){if(1&t&&(b.Pb(0),b.wc(1,_,3,0,"ng-container",10),b.Ob()),2&t){const t=b.ac();b.zb(1),b.hc("ngIf",t.form.controls.isbn.errors)}}function Z(t,e){1&t&&(b.Pb(0),b.yc(1," Fill out the description "),b.Ob())}function E(t,e){if(1&t&&(b.Pb(0),b.yc(1),b.Ob()),2&t){const t=b.ac().ngIf;b.zb(1),b.Ac(" The description is too long (max ",null==t||null==t.maxlength?null:t.maxlength.requiredLength," characters allowed). ")}}function J(t,e){1&t&&(b.Pb(0),b.yc(1," Description should start with a capital letter "),b.Ob())}function X(t,e){if(1&t&&(b.Pb(0),b.Rb(1,"small",40),b.wc(2,Z,2,0,"ng-container",10),b.wc(3,E,2,1,"ng-container",10),b.wc(4,J,2,0,"ng-container",10),b.Qb(),b.Ob()),2&t){const t=e.ngIf;b.zb(2),b.hc("ngIf",null==t?null:t.required),b.zb(1),b.hc("ngIf",null==t?null:t.maxlength),b.zb(1),b.hc("ngIf",null==t?null:t.pattern)}}function K(t,e){if(1&t&&(b.Pb(0),b.wc(1,X,5,3,"ng-container",10),b.Ob()),2&t){const t=b.ac();b.zb(1),b.hc("ngIf",t.form.controls.description.errors)}}function W(t,e){1&t&&(b.Pb(0),b.yc(1," Fill out at least one author "),b.Ob())}function U(t,e){if(1&t&&(b.Pb(0),b.Rb(1,"small",41),b.wc(2,W,2,0,"ng-container",10),b.Qb(),b.Ob()),2&t){const t=e.ngIf;b.zb(2),b.hc("ngIf",null==t?null:t.required)}}function tt(t,e){if(1&t&&(b.Pb(0),b.wc(1,U,3,1,"ng-container",10),b.Ob()),2&t){const t=b.ac();b.zb(1),b.hc("ngIf",t.form.controls.author.errors)}}function et(t,e){1&t&&(b.Pb(0),b.yc(1," Fill out the publisher "),b.Ob())}function nt(t,e){if(1&t&&(b.Pb(0),b.yc(1),b.Ob()),2&t){const t=b.ac().ngIf;b.zb(1),b.Ac(" The publisher is too long (max allowed are ",null==t||null==t.maxlength?null:t.maxlength.requiredLength," characters). ")}}function it(t,e){if(1&t&&(b.Pb(0),b.yc(1),b.Ob()),2&t){const t=b.ac().ngIf;b.zb(1),b.Ac(" The publisher is too short (min allowed are ",null==t||null==t.minlength?null:t.minlength.requiredLength," characters). ")}}function ot(t,e){if(1&t&&(b.Pb(0),b.Rb(1,"small",42),b.wc(2,et,2,0,"ng-container",10),b.wc(3,nt,2,1,"ng-container",10),b.wc(4,it,2,1,"ng-container",10),b.Qb(),b.Ob()),2&t){const t=e.ngIf;b.zb(2),b.hc("ngIf",null==t?null:t.required),b.zb(1),b.hc("ngIf",null==t?null:t.maxlength),b.zb(1),b.hc("ngIf",null==t?null:t.minlength)}}function bt(t,e){if(1&t&&(b.Pb(0),b.wc(1,ot,5,3,"ng-container",10),b.Ob()),2&t){const t=b.ac();b.zb(1),b.hc("ngIf",t.form.controls.publisher.errors)}}function rt(t,e){1&t&&(b.Pb(0),b.yc(1," Fill out the published year "),b.Ob())}function ct(t,e){if(1&t&&(b.Pb(0),b.yc(1),b.Ob()),2&t){const t=b.ac().ngIf;b.zb(1),b.Bc(" Enter a valid year (",null==t||null==t.range?null:t.range.min," - ",null==t||null==t.range?null:t.range.max,") ")}}function lt(t,e){if(1&t&&(b.Pb(0),b.Rb(1,"small",43),b.wc(2,rt,2,0,"ng-container",10),b.wc(3,ct,2,2,"ng-container",10),b.Qb(),b.Ob()),2&t){const t=e.ngIf;b.zb(2),b.hc("ngIf",null==t?null:t.required),b.zb(1),b.hc("ngIf",null==t?null:t.range)}}function at(t,e){if(1&t&&(b.Pb(0),b.wc(1,lt,4,2,"ng-container",10),b.Ob()),2&t){const t=b.ac();b.zb(1),b.hc("ngIf",t.form.controls.published.errors)}}function st(t,e){1&t&&(b.Pb(0),b.yc(1," Fill out the number of pages "),b.Ob())}function ut(t,e){if(1&t&&(b.Pb(0),b.yc(1),b.Ob()),2&t){const t=b.ac().ngIf;b.zb(1),b.Bc(" Enter a valid amount (",null==t||null==t.range?null:t.range.min," - ",null==t||null==t.range?null:t.range.max,") ")}}function dt(t,e){if(1&t&&(b.Pb(0),b.Rb(1,"small",44),b.wc(2,st,2,0,"ng-container",10),b.wc(3,ut,2,2,"ng-container",10),b.Qb(),b.Ob()),2&t){const t=e.ngIf;b.zb(2),b.hc("ngIf",null==t?null:t.required),b.zb(1),b.hc("ngIf",null==t?null:t.range)}}function pt(t,e){if(1&t&&(b.Pb(0),b.wc(1,dt,4,2,"ng-container",10),b.Ob()),2&t){const t=b.ac();b.zb(1),b.hc("ngIf",t.form.controls.pages.errors)}}function ft(t,e){1&t&&(b.Pb(0),b.yc(1," Fill out a valid web address "),b.Ob())}function ht(t,e){if(1&t&&(b.Pb(0),b.Rb(1,"small",45),b.wc(2,ft,2,0,"ng-container",10),b.Qb(),b.Ob()),2&t){const t=e.ngIf;b.zb(2),b.hc("ngIf",null==t?null:t.pattern)}}function gt(t,e){if(1&t&&(b.Pb(0),b.wc(1,ht,3,1,"ng-container",10),b.Ob()),2&t){const t=b.ac();b.zb(1),b.hc("ngIf",t.form.controls.website.errors)}}const mt=function(){return["./"]},vt=function(){return["../"]};let yt=(()=>{class t{constructor(t,e,n,i,o){this.fb=t,this.router=e,this.route=n,this.confirmationService=i,this.booksService=o,this.unsubscribe=new P.a;const b=new Date;this.form=this.fb.group({title:this.fb.control(null,[x.l.required,x.l.maxLength(120),x.l.pattern('^(?!d+$)(?:[a-zA-Z0-9][a-zA-Z0-9 @"#&*!]*)?$')]),subtitle:this.fb.control(null,[x.l.maxLength(120),x.l.pattern('^(?!d+$)(?:[a-zA-Z0-9][a-zA-Z0-9 @"#&*!]*)?$')]),description:this.fb.control(null,[x.l.required,x.l.maxLength(512),x.l.pattern("^[A-Z].*")]),categories:this.fb.control([]),author:this.fb.control([],[x.l.required]),isbn:this.fb.control(null,[x.l.required,x.l.pattern("^[0-9]{13}")]),pages:this.fb.control(null,[x.l.required,M.range(1,9999)]),published:this.fb.control(null,[x.l.required,M.range(1900,b.getFullYear())]),publisher:this.fb.control(null,[x.l.required,x.l.minLength(5),x.l.maxLength(60)]),website:this.fb.control(null,x.l.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?"))})}ngOnInit(){this.router.events.pipe(Object(A.a)(t=>t instanceof i.b),Object(L.a)(this.unsubscribe)).subscribe(()=>{this.form.reset(),this.form.updateValueAndValidity()}),this.route.parent.data.pipe(Object(d.a)(t=>t.bookGenres),Object(L.a)(this.unsubscribe)).subscribe(t=>{this.genreSelectItems=t.map(t=>({label:t.label,value:t.id}))})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}submit(){this.form.markAllAsTouched(),this.form.valid&&this.booksService.createBook(this.form.value).pipe(Object(L.a)(this.unsubscribe)).subscribe(()=>{this.form.markAsPristine(),this.router.navigate(["../"],{relativeTo:this.route})})}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(x.b),b.Lb(i.c),b.Lb(i.a),b.Lb(g.a),b.Lb(l))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-add-book"]],features:[b.yb([g.a])],decls:80,vars:24,consts:[[1,"p-grid","p-align-center"],[1,"p-col"],[1,"p-col-fixed"],["pButton","","label","Add Another Book",1,"ui-button-primary",3,"icon","routerLink"],[1,"p-mb-3",3,"formGroup","ngSubmit"],[1,"p-grid"],[1,"p-col-12","p-sm-6"],[1,"p-field"],["for","title"],["id","title","type","text","pInputText","","formControlName","title","aria-describedby","title-help"],[4,"ngIf"],["for","subtitle"],["id","subtitle","type","text","pInputText","","formControlName","subtitle","aria-describedby","subtitle-help"],["for","categories"],["formControlName","categories",3,"options","selectionLimit","maxSelectedLabels","inputId","defaultLabel","showToggleAll"],["for","isbn"],["id","isbn","type","text","pInputText","","formControlName","isbn","aria-describedby","isbn-help"],["src","./assets/images/missing-image.jpg"],[1,"p-col-12"],["for","description"],["id","description","type","text","rows","4","pInputTextarea","","formControlName","description","aria-describedby","description-help"],["for","author"],["formControlName","author","aria-describedby","author-help",3,"max","inputId"],["for","publisher"],["id","publisher","type","text","pInputText","","formControlName","publisher","aria-describedby","publisher-help"],["for","published"],["id","published","type","number","pInputText","","formControlName","published","aria-describedby","published-help"],["for","pages"],["id","pages","type","number","pInputText","","formControlName","pages","aria-describedby","pages-help"],["for","website"],["id","website","type","text","pInputText","","formControlName","website","aria-describedby","website-help"],["pButton","","type","submit","label","Save",1,"ui-button-primary"],["pButton","","type","button","label","Cancel",3,"routerLink"],["appendTo","body","styleClass","ui-dialog-headless",3,"closable"],["cd",""],["pButton","","label","CANCEL","tabindex","0","autofocus","",3,"click"],["pButton","","label","DISCARD","tabindex","1",1,"ui-button-danger",3,"click"],["id","title-help",1,"invalid-feedback"],["id","subtitle-help",1,"invalid-feedback"],["id","isbn-help",1,"invalid-feedback"],["id","description-help",1,"invalid-feedback"],["id","author-help",1,"invalid-feedback"],["id","publisher-help",1,"invalid-feedback"],["id","published-help",1,"invalid-feedback"],["id","pages-help",1,"invalid-feedback"],["id","website-help",1,"invalid-feedback"]],template:function(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"h1"),b.yc(3,"Add new Book"),b.Qb(),b.Qb(),b.Rb(4,"div",2),b.Mb(5,"a",3),b.Qb(),b.Qb(),b.Rb(6,"form",4),b.Yb("ngSubmit",(function(){return e.submit()})),b.Rb(7,"div",5),b.Rb(8,"div",6),b.Rb(9,"div",7),b.Rb(10,"label",8),b.yc(11,"Title"),b.Qb(),b.Mb(12,"input",9),b.wc(13,G,2,1,"ng-container",10),b.Qb(),b.Rb(14,"div",7),b.Rb(15,"label",11),b.yc(16,"Subtitle"),b.Qb(),b.Mb(17,"input",12),b.wc(18,Y,2,1,"ng-container",10),b.Qb(),b.Rb(19,"div",7),b.Rb(20,"label",13),b.yc(21,"Categories"),b.Qb(),b.Mb(22,"p-multiSelect",14),b.Qb(),b.Rb(23,"div",7),b.Rb(24,"label",15),b.yc(25,"ISBN"),b.Qb(),b.Mb(26,"input",16),b.wc(27,H,2,1,"ng-container",10),b.Qb(),b.Qb(),b.Rb(28,"div",6),b.Rb(29,"div",7),b.Rb(30,"label",8),b.yc(31,"Image"),b.Qb(),b.Rb(32,"div"),b.Mb(33,"img",17),b.Qb(),b.Qb(),b.Qb(),b.Rb(34,"div",18),b.Rb(35,"div",7),b.Rb(36,"label",19),b.yc(37,"Description"),b.Qb(),b.Mb(38,"textarea",20),b.wc(39,K,2,1,"ng-container",10),b.Qb(),b.Qb(),b.Rb(40,"div",18),b.Rb(41,"div",7),b.Rb(42,"label",21),b.yc(43,"Author(s)"),b.Qb(),b.Mb(44,"p-chips",22),b.wc(45,tt,2,1,"ng-container",10),b.Qb(),b.Qb(),b.Rb(46,"div",6),b.Rb(47,"div",7),b.Rb(48,"label",23),b.yc(49,"Publisher"),b.Qb(),b.Mb(50,"input",24),b.wc(51,bt,2,1,"ng-container",10),b.Qb(),b.Qb(),b.Rb(52,"div",6),b.Rb(53,"div",5),b.Rb(54,"div",6),b.Rb(55,"div",7),b.Rb(56,"label",25),b.yc(57,"Published Year"),b.Qb(),b.Mb(58,"input",26),b.wc(59,at,2,1,"ng-container",10),b.Qb(),b.Qb(),b.Rb(60,"div",6),b.Rb(61,"div",7),b.Rb(62,"label",27),b.yc(63,"Amount of Pages"),b.Qb(),b.Mb(64,"input",28),b.wc(65,pt,2,1,"ng-container",10),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(66,"div",6),b.Rb(67,"div",7),b.Rb(68,"label",29),b.yc(69,"Website"),b.Qb(),b.Mb(70,"input",30),b.wc(71,gt,2,1,"ng-container",10),b.Qb(),b.Qb(),b.Qb(),b.Rb(72,"div"),b.Mb(73,"button",31),b.Mb(74,"button",32),b.Qb(),b.Qb(),b.Rb(75,"p-confirmDialog",33,34),b.Rb(77,"p-footer"),b.Rb(78,"button",35),b.Yb("click",(function(){return b.qc(t),b.pc(76).reject()})),b.Qb(),b.Rb(79,"button",36),b.Yb("click",(function(){return b.qc(t),b.pc(76).accept()})),b.Qb(),b.Qb(),b.Qb()}2&t&&(b.zb(5),b.hc("icon","pi pi-plus")("routerLink",b.ic(22,mt)),b.zb(1),b.hc("formGroup",e.form),b.zb(7),b.hc("ngIf",e.form.controls.title.touched),b.zb(5),b.hc("ngIf",e.form.controls.subtitle.touched),b.zb(4),b.hc("options",e.genreSelectItems)("selectionLimit",4)("maxSelectedLabels",4)("inputId","categories")("defaultLabel","Select")("showToggleAll",!1),b.zb(5),b.hc("ngIf",e.form.controls.isbn.touched),b.zb(12),b.hc("ngIf",e.form.controls.description.touched),b.zb(5),b.hc("max",3)("inputId","author"),b.zb(1),b.hc("ngIf",e.form.controls.author.touched),b.zb(6),b.hc("ngIf",e.form.controls.publisher.touched),b.zb(8),b.hc("ngIf",e.form.controls.published.touched),b.zb(6),b.hc("ngIf",e.form.controls.pages.touched),b.zb(6),b.hc("ngIf",e.form.controls.website.touched),b.zb(3),b.hc("routerLink",b.ic(23,vt)),b.zb(1),b.hc("closable",!1))},directives:[i.f,p.a,x.m,x.h,x.d,x.a,m.a,x.g,x.c,f.k,B.a,j.a,C.a,x.j,i.d,S.a,g.b],styles:[""]}),t})();var Rt=n("HDdC");function Qt(t,e){1&t&&(b.Pb(0),b.yc(1,", "),b.Ob())}function kt(t,e){if(1&t&&(b.Pb(0),b.yc(1),b.wc(2,Qt,2,0,"ng-container",9),b.Ob()),2&t){const t=e.$implicit,n=e.last,i=b.ac(4);b.zb(1),b.Ac(" #",i.bookGenreMap[t],""),b.zb(1),b.hc("ngIf",!n)}}function wt(t,e){if(1&t&&(b.Rb(0,"li"),b.yc(1," Categories: "),b.wc(2,kt,3,2,"ng-container",10),b.Qb()),2&t){const t=e.ngIf;b.zb(2),b.hc("ngForOf",t)}}function It(t,e){if(1&t&&(b.Pb(0),b.wc(1,wt,3,1,"li",9),b.Ob()),2&t){const t=b.ac().ngIf;b.zb(1),b.hc("ngIf",t.categories)}}function zt(t,e){if(1&t&&(b.Rb(0,"li"),b.yc(1," Website: "),b.Rb(2,"a",11),b.yc(3),b.Qb(),b.Qb()),2&t){const t=b.ac().ngIf;b.zb(2),b.hc("href",t.website,b.sc),b.zb(1),b.Ac(" ",t.website,"")}}function Ot(t,e){if(1&t&&(b.Rb(0,"div",5),b.Rb(1,"div",3),b.Mb(2,"img",6),b.Qb(),b.Rb(3,"div",2),b.Rb(4,"h1",7),b.yc(5),b.Qb(),b.Rb(6,"h4",8),b.yc(7),b.Qb(),b.Rb(8,"div"),b.Rb(9,"ul"),b.Rb(10,"li"),b.yc(11),b.bc(12,"array"),b.Qb(),b.wc(13,It,2,1,"ng-container",9),b.Rb(14,"li"),b.yc(15),b.Qb(),b.Rb(16,"li"),b.yc(17),b.Qb(),b.Rb(18,"li"),b.yc(19),b.Qb(),b.Rb(20,"li"),b.yc(21),b.Qb(),b.wc(22,zt,4,2,"li",9),b.Qb(),b.Qb(),b.Rb(23,"div"),b.yc(24),b.Qb(),b.Qb(),b.Qb()),2&t){const t=e.ngIf,n=b.ac();b.zb(5),b.zc(t.title),b.zb(2),b.zc(t.subtitle),b.zb(4),b.Ac("Author: ",b.dc(12,10,t.author,", "),""),b.zb(2),b.hc("ngIf",n.bookGenreMap),b.zb(2),b.Ac("ISBN: ",t.isbn,""),b.zb(2),b.Ac("Published Year: ",t.published,""),b.zb(2),b.Ac("Pages: ",t.pages,""),b.zb(2),b.Ac("Publisher: ",t.publisher,""),b.zb(1),b.hc("ngIf",t.website),b.zb(2),b.zc(t.description)}}const xt=function(){return["../../"]},Pt=[{path:"",component:r,resolve:{bookGenres:a},children:[{path:"",component:O,resolve:{books:s}},{path:"add",component:yt,canDeactivate:[(()=>{class t{canDeactivate(t,e,n,i){return!t.form.dirty||new Rt.a(e=>{t.confirmationService.confirm({message:"You have unsaved changes. Do you want to leave this page and discard your changes?",accept:()=>{e.next(!0),e.complete()},reject:()=>{e.next(!1),e.complete()}})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],runGuardsAndResolvers:"always"},{path:":isbn/view",component:(()=>{class t{constructor(t){this.route=t,this.unsubscribe=new P.a}ngOnInit(){var t;this.book$=this.route.data.pipe(Object(d.a)(t=>{const e=t.book;let n=e.published;return isNaN(Number(n))&&(n=new Date(n).getFullYear()),Object.assign(Object.assign({},e),{published:n})})),null===(t=this.route.parent)||void 0===t||t.data.subscribe(console.log),this.bookGenreMap$=this.route.parent.data.pipe(Object(d.a)(t=>t.bookGenres),Object(d.a)(t=>t.reduce((t,e)=>Object.assign(Object.assign({},t),{[e.id]:e.label}),{}))),this.route.parent.data.pipe(Object(d.a)(t=>t.bookGenres),Object(L.a)(this.unsubscribe)).subscribe(t=>{this.bookGenreMap=t.reduce((t,e)=>Object.assign(Object.assign({},t),{[e.id]:e.label}),{})})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(i.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-view-book"]],decls:6,vars:5,consts:[["class","p-grid p-my-3",4,"ngIf"],[1,"p-grid"],[1,"p-col"],[1,"p-col-fixed"],["pButton","","type","button","label","BACK",3,"routerLink"],[1,"p-grid","p-my-3"],["src","./assets/images/missing-image.jpg"],[1,"p-my-0"],[1,"p-mt-1","p-mb-0"],[4,"ngIf"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"]],template:function(t,e){1&t&&(b.wc(0,Ot,25,13,"div",0),b.bc(1,"async"),b.Rb(2,"div",1),b.Mb(3,"div",2),b.Rb(4,"div",3),b.Mb(5,"button",4),b.Qb(),b.Qb()),2&t&&(b.hc("ngIf",b.cc(1,2,e.book$)),b.zb(5),b.hc("routerLink",b.ic(4,xt)))},directives:[f.k,p.a,i.d,f.j],pipes:[f.b,y],styles:[""]}),t})(),resolve:{book:u}}]}];let At=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(e){return new(e||t)},imports:[[o.a,i.g.forChild(Pt)]]}),t})()}}]);